---
title: Testebenen: หาสมดุลที่ถูกต้อง
date: 2023-05-31
author: "Nova Annabella"
slug: test_level
tags: [ Testing, Software Testing, Test Levels, Mock Tests, Unit Tests, Integration Tests, Component Tests, Contract Tests, End-to-End Tests ]
categories: [ Technology, Software Development, Quality Assurance ]
description: หาสมดุลเหมาะสมในการเลือกระดับการทดสอบที่เหมาะสมสำหรับซอฟต์แวร์ทดสอบ
draft: false
images:
  - "/images/content/martin_fowler_testing.png"
card: "summary_large_image"
---


# Testebenen: การค้นหาสมดุลที่ถูกต้อง

ค้นหาสมดุลที่ถูกต้องเป็นเรื่องสำคัญของการทดสอบ

[![testebenen](/images/content/martin_fowler_testing.png)](https://martinfowler.com/articles/microservice-testing/)

### บทนำ

หัวข้อการทดสอบ (Testing) ดูเหมือนยังเป็นที่ไม่คุ้นเคยและมีพื้นที่ว่างสำหรับการตีความมากมายจนถึงปัจจุบัน
โดยที่พีรมิดการทดสอบแบบดั้งเดิมได้ถูกสงครามและพีรมิดการทดสอบใหม่ก็เกิดขึ้น ตามความคิดของฉัน
จำเป็นต้องมีความเข้าใจชัดเจนว่าต้องการทดสอบอะไร การทดสอบที่ต่ำกว่ามักจะไม่เพียงพอและต้องให้ความสำคัญกับการทดสอบพฤติกรรม
เพื่อให้แน่ใจว่า API หรือ UI ทำงานตามที่ต้องการ สามารถดูภาพรวมของรูปแบบการทดสอบที่เป็นไปได้ได้ที่นี่: [martinfowler
Testing] (https://martinfowler.com/articles /microservice-testing/).

### ระดับ 1 - การทดสอบโมคและการทดสอบหน่วย

วัตถุประสงค์: ทดสอบชิ้นส่วนซอฟต์แวร์ขนาดเล็กในการใช้งานเพื่อตรวจสอบว่าพวกเขาทำงานตามที่คาดหวังหรือไม่ Mock-Tests และ
Unit-Tests อาจมีผลเสียต่อกระบวนการพัฒนาและทำให้เกิดความล่าช้า
การทดสอบเหล่านี้มักจะไม่เกี่ยวข้องกับบริบทและมีความเชื่อมโยงกับความเป็นจริงน้อย
พวกเขามักเป็นที่จัดสรรสำหรับการรักษาฟังก์ชันที่ไม่จำเป็นผ่าน Unit-Tests ที่มีอยู่แล้ว เมื่อมีการเพิ่ม Mocks
จะเกิดการใช้งานที่ไม่จำเป็นขึ้น เนื่องจากผลลัพธ์ที่คาดหวังจาก Mock-Tests จำกัดไว้ที่สิ่งที่ถูกกำหนดไว้ใน Mock ต้นฉบับ
เอ็นด์ผู้ใช้ไม่สนใจในฟังก์ชันภายใน ตัวอย่างเช่นในสถานการณ์ Login `loginUser(name, password, securityAlgorithmus)` หาก
Unit-Test ทำการตรวจสอบการตรวจสอบข้อผิดพลาด Null ในพารามิเตอร์ `securityAlgorithm` การทดสอบจะมากเกินไป
เนื่องจากผู้ใช้ไม่สามารถกำหนดพารามิเตอร์ `securityAlgorithm` ได้

### ระดับ 2 - การทดสอบการผสมผสาน

วัตถุประสงค์: ตรวจสอบเส้นทางการสื่อสารและปฏิสัมพันธ์ระหว่างคอมโพเนนต์เพื่อตรวจหาข้อผิดพลาดของอินเทอร์เฟส
การทดสอบการผสมผสานช่วยให้เราได้ความรู้คุณภาพเกี่ยวกับความสามารถและความอิสระของส่วนต่างๆ ของแอปพลิเคชัน
การใช้โมคน้อยลงจะทำให้เข้าใจการทดสอบได้ง่ายขึ้น แต่อย่างไรก็ตาม การทดสอบการผสมผสานยังขาดความเชื่อมโยงและมีความเสี่ยงที่ก
ารทดสอบการผสมผสานนั้นจะมีเพียงการทดสอบบูรณาการที่ถูกปกคลุมด้วยโมคน้อยกว่าการทดสอบยูนิตจริงๆ

### ระดับ 3 - การทดสอบคอมโพเนนต์

วัตถุประสงค์: จำกัดขอบเขตของซอฟต์แวร์ที่ทดสอบเพื่อการใช้งานบนส่วนของระบบที่ต้องทดสอบ
การแก้ไขระบบผ่านตัวถังโค้ดภายในและการใช้งาน Testdoubles เพื่อแยกประเภทโค้ดที่ต้องทดสอบจากองค์ประกอบอื่นๆ
การทดสอบคอมโพเน้นต์จะให้ข้อมูลหลายประการเกี่ยวกับคุณภาพและประสิทธิภาพของแอปพลิเคชัน จะไม่ใช้ Mocks
แต่ทดสอบแอปพลิเคชันจริงๆ ขอบเขตระหว่างการทดสอบคอมโพเน้นต์และการทดสอบ End-to-End ไม่ได้อยู่ในระดับสำคัญ ด้วย Test
environment ที่ดียิ่งขึ้น ขอบเขตระหว่างการทดสอบสองรูปแบบจะสับสนตามที่เข้าใจกันมา
ซึ่งทำให้สามารถทดสอบพฤติกรรมที่เป็นจริงแทนฟังก์ชั่นที่ไร้ความสัมพันธ์และแยกคอนเทนต์ได้ แต่การสร้างคลาสเสมือนคอมโพเน้นต์
ผลิตภัณฑ์และ Mocks อาจสร้างความยุ่งยากในการบำรุงรักษาเพิ่มเติมในรหัสผลิตภัณฑ์

### Level 4 - การทดสอบสัญญา

เป้าหมายของบล็อกโค้ดนี้คือการตรวจสอบการโต้ตอบกับบริการภายนอกและรักษาความปลอดภัยเพื่อให้สอดคล้องกับข้อกำหนดของการบริการผู
้บริโภค การทดสอบสัญญาเหมือนกับการทดสอบคอมโพเนนต์และความแตกต่างระหว่างพวกเขาเล็กน้อย
บางนักพัฒนาอาจเชื่อมโยงการทดสอบเหล่านี้กับการทดสอบ Pact ซึ่งเป็นการทดสอบยูนิตที่มีเซิร์ฟเวอร์อยู่ตรงกลาง
แต่ความพยายามในการรักษาการทดสอบเหล่านี้อาจไม่สูงมาก ตัวอย่างเช่น Pact-Test อาจทดสอบ REST-API
`loginUser?name=aa&password=bb)` และคาดหวังการตอบกลับด้วย JSON-Schema ซึ่งได้รับการอัพโหลดล่วงหน้าไปยัง Pact-Server
สกีมานี้เป็นสถิตและเปัจจุบันที่ยืดหยุ่นและเป็นไปได้ที่ผิดพลาดเช่นรูปแบบวันที่ที่ไม่ถูกต้องหรือโซนเวลาในการตอบกลับของ API
ผลกระทบทางลบอาจเกิดขึ้นได้มาก

### เลเวล 5 - การทดสอบสิ้นสุดท้ายถึงสิ้นสุด (เรียกว่าการทดสอบกล่องดำเช่นกัน)

วัตถุประสงค์:
ตรวจสอบว่าระบบสามารถปฏิบัติตามความต้องการของภายนอกและบรรลุเป้าหมายโดยทำการทดสอบระบบทั้งหมดจากจุดเริ่มต้นจนจบ การทดสอบ
End-to-End เป็นการทดสอบที่เชื่อถือได้และทนทาน เมื่อเราผ่านการวาง Test environment แล้ว เราจะได้รับประโยชน์ตอบแทนมากมาย
การทดลองจำลองพฤติกรรมจริงและลดความจำเป็นต้องใช้ Mocks ขึ้นมา ความผิดพลาดจะเกิดขึ้นน้อยลงและสามารถทำการทดลองแบบ Local
ได้ง่ายขึ้น การ Debug ที่ซับซ้อนและการบันทึกไฟล์ใน Production จะลดลงมากขึ้น
โอกาสที่จะเกิดเหตุการณ์น้อยลงและนักพัฒนาทำงานหรือใช้ข้อมูล Production
ได้น้อยลงซึ่งมาพร้อมกับลดความรับผิดชอบและเพิ่มโฟกัส นอกจากนี้
การอัพเดทซอฟต์แวร์อัตโนมัติจะทำให้ง่ายขึ้นเนื่องจากพฤติกรรมถูกทดสอบไว้แล้ว การทดสอบหลังจากเขียนเป็นรูปแบบที่ใช้ซ้ำได้
สามารถนำไปใช้ในการทดสอบประสิทธิภาพและได้รับภาพรวมของความสามารถได้อย่างครบถ้วน
การทดสอบเหล่านี้ยังสามารถดำเนินการอย่างต่อเนื่องใน production environment
และให้มุมมองในเวลาเดียวกันเกี่ยวกับสถานะของขบวนการทำงานต่างๆ หาก Subsystem เช่น REST-Dienst ภายนอกออฟไลน์
จะสามารถดูได้ทันทีว่าใครคือผู้ใช้งานที่ได้รับผลกระทบ

### สรุปผล

สรุปมาทั้งหมดการทดสอบเป็นสิ่งสำคัญในการพัฒนาซอฟต์แวร์
และการเลือกขั้นตอนการทดสอบขึ้นอยู่กับความต้องการและเป้าหมายของแอปพลิเคชัน ในขณะที่การทดสอบโมค-
เทสและยูนิต-เทสอาจจะมีประสิทธิภาพจำกัด
การทดสอบรวมและการทดสอบคอมโพแนนต์จะมีข้อมูลที่มีค่าเกี่ยวกับพฤติกรรมและประสิทธิภาพของแอปพลิเคชัน Contracttests
ช่วยตรวจสอบการโต้ตอบกับบริการภายนอก แต่การแยกตัวออกจากการทดสอบคอมโพแนนต์อาจเป็นอย่างน้อย
เชื่อมโยงเทสสุดท้ายจะให้ความมั่นใจสูงสุดในฟังก์ชันของระบบและช่วยให้สามารถทดสอบทั้งแอปพลิเคชันได้อย่างละเอียด
โดยการเลือกขั้นตอนการทดสอบที่เหมาะสมและการผสมผสานอย่างมีประสิทธิภาพ
นักพัฒนาสามารถให้ความมั่นใจได้ว่าซอฟต์แวร์ของคุณมีคุณภาพ น่าเชื่อถือ และคงทนอยู่ได้

### ติดต่อ

[GitHub Issues](https://github.com/NovaAnnabella/the_unspoken/issues/new/choose).
