---
title: "تست‌سطح: پیدا کردن تعادل مناسب"
date: 2023-05-31
author: "Nova Annabella"
slug: test_level
tags: [ Testing, Software Testing, Test Levels, Mock Tests, Unit Tests, Integration Tests, Component Tests, Contract Tests, End-to-End Tests ]
categories: [ Technology, Software Development, Quality Assurance ]
description: "از دریافت تعادل مناسب در انتخاب سطوح آزمون مناسب برای تست نرم‌افزار استفاده شود"
draft: false
images:
  - "/images/content/martin_fowler_testing.png"
card: "summary_large_image"
---


# Testebenen: پیدا کردن تعادل مناسب

در مدیریت کیفیت نرم افزار، یکی از مهمترین بخش ها، تشخیص اولیه ایرادات و بهبود مداوم فرآیند است. در این راستا، تست نرم‌افزار از مهمترین روش‌های تشخیص ایرادات است که برای این منظور انجام می‌شود.  در این مقاله به مبحث تست‌های نرم‌افزار و انواع آن به عنوان یکی از روش‌های تشخیص و رفع ایرادات تمرکز خواهیم کرد.

[![testebenen](/images/content/martin_fowler_testing.png)](https://martinfowler.com/articles/microservice-testing/)

### مقدمه

موضوع تست کردن به نظر می‌رسد هنوز تا به امروز یک قلمرو نوین با فضای آزاد برای تفسیر است. پرامید تست سنتی مورد شکایت قرار
گرفته و پرامید تست جدیدی ایجاد شده است. به نظر من نیازی به پرامید تست نیست، بلکه نیاز به درک واضحی از آنچه باید تست شود
وجود دارد. تست ها در سطوح پایین تر معمولاً کمتر اطلاعات مفیدی ارائه می دهند. تمرکز باید به ویژه بر روی تست رفتار قرار
گیرد تا اطمینان حاصل شود که رابط برنامه‌نویسی کاربری یا API همانطور که مورد انتظار است به درستی کار می‌کند. برای مشاهده
یک مرور کامل از انواع تست های مختلف می توانید به این آدرس مراجعه نمایید: [Martinfowler
Testing](https://martinfowler.com/articles/microservice-testing/).

### سطح 1 - آزمون های مص و واحد

هدف: اجرای کوچکترین بخش های قابل آزمایش نرم افزار در برنامه، به منظور تشخیص اینکه آیا به درستی کار می کنند یا خیر. تست
های موک و تست های واحد ممکن است کارایی را کاهش دهند و فرآیند توسعه را مشکل کننده کنند. این تست ها اغلب از محیط برداشته
شده اند و با واقعیت کمتری در ارتباط هستند. آنها اغلب به دلایلی مانند حفظ وظایف غیر ضروری در تست های واحد استفاده می
شوند. هنگامی که موک ها اضافه می شوند، به خودپردازی منجر می شوند. نتایج مورد انتظار تست های موک به تعریف اولیه موک محدود
است. کاربران نهایی به توابع داخلی علاقه نمی کنند. به عنوان مثال، در یک سناریوی لاگین `loginUser (name، password،
securityAlgorithmus)`، اگر تست واحد یک بررسی صفر برای پارامتر `securityAlgorithm` انجام دهد، تست زیادی انجام گرفته است
زیرا کاربران نمی توانند پارامتر `securityAlgorithm` را تنظیم کنند.

### سطح 2 - تست یکپارچگی

هدف: بررسی مسیرها و تعاملات بین اجزاء به منظور شناسایی نواقص رابط. تست‌های یکپارچگی را که اطلاعات مفیدی درباره عملکرد و
استقلال بخش‌های مختلف برنامه ارائه می‌دهند. با کاهش تعداد موک‌ها، تست‌ها قابل فهم‌تر می‌شوند. با این حال، هنوز کانتکست
فراهم نیست و خطر وجود دارد تست‌های یکپارچگی به سادگی تستی همچون یونیت با کمترین تعداد موک باشند.

### سطح 3 - آزمایش قطعات

هدف: محدود کردن حوزه نرم‌افزار آزمایش شده در قسمتی از سیستم مورد آزمایش، دستکاری سیستم از طریق رابط کد داخلی و استفاده
از تست دوبل برای جداسازی کدی که باید آزمایش شود از بخش‌های دیگر برنامه. تست کامپوننتی بسیاری از اطلاعات درباره کیفیت و
کارایی برنامه ارائه می‌دهد. بجای موک‌ها، شما بالاخره برنامه خود را تست می‌کنید. مرز بین تست کامپوننتی و تست پایان به
پایان معنادار نیست. با یک محیط تست خوب، مرزها بین آن‌ها غالبا پاک می‌شوند، به طوری که تست رفتار واقعی بجای توابع جداگانه
و بی‌مفهوم، ممکن است. با این حال، ایجاد کلاس‌های تست اضافی مانند کامپوننت‌های استاب، فیک و موک در کد تولید باعث می‌شود
که نیاز به پشتیبانی اضافی شود.

### سطح ۴ - تست قرارداد

هدف این بلوک کد اطمینان حاصل کردن از تعاملات مرزی یک سرویس خارجی و تضمین کردن اینکه مطابق با الزامات قرارداد سرویس مصرف
کننده است. تست های قرارداد اغلب شبیه تست های کامپوننت هستند و تفاوت بین آنها به حداقل است. برخی توسعه دهندگان این تست
ها را با تست های پکت مرتبط می کنند که در واقع به عنوان یک تست یونیت با یک سرور در میان عمل می کند. اما زحمت نگهداری این
تست ها ممکن است ارزش آن را نداشته باشد. به عنوان مثال، یک تست پکت ممکن است REST-API `loginUser?name=aa&password=bb)` را
بررسی کند و یک پاسخ JSON-Schema انتظار داشته باشد که از پیش در سرور پکت بارگذاری شده است. این قالب از نوع اطلاعات ثابت
است و به خطاهایی مانند فرمت تاریخ یا زمان غلط در پاسخ API حساس است و تاثیرات منفی آن می تواند بسیار بزرگ باشد.

### سطح ۵ - آزمایش‌های End-to-End (معمولاً Black-Box-Tests نامیده می‌شوند)

مقصد: بررسی اینکه یک سیستم آیا نیازمندی‌های خارجی را برآورده می‌کند و آیا اهداف موردنظر خود را دست یافته است، با انجام
آزمون کل سیستم از ابتدا تا انتها. آزمون‌های رایانه ای از ابتدا تا انتها قابل اعتماد و قوی هستند. هنگامی که مراحل تنظیمی
محیط آزمون انجام شود، کار آزمون به صرفه خواهد بود. این آزمون‌ها رفتار واقعی را شبیه‌سازی می‌کنند و نیاز به موک‌ها را
برطرف می‌کنند. خطاها کمتر رخ می‌دهند و به راحتی می‌توان آنها را محلی بررسی و تجدید تولید کرد. از دیباگینگ پیشرفته و
نگه‌داری سوابق اجرایی بیشتر صرف‌نظر می‌شود، همچنین وقایع نادر کمتری پیش می‌آید. به مشکلات توسعه‌دهندگان کمتری رخ
می‌دهند، در صورت وجود بهوازی، با داده‌های تولید محصول کمتر کار دارند که باعث کاهش مسئولیت و افزایش تمرکز می‌شود. علاوه
بر این، بهبودهای خودکار مانند بروزرسانی نرم‌افزارهای خودکار در اجرا، با داشتن رفتار آزمون‌شده، انجام داده شده‌اند. هستند
مزایای دیگر! هنگامی که تست‌ها در قالب یک شکل قابل استفاده مجدد به کار گرفته شوند، می‌توانند در آزمون‌های بار به کار رفته
و تصویر شاملی از عملکرد سیستم ارائه دهند. این آزمون‌ها می‌توانند به طور مداوم در محیط تولید اجرا شوند و در زمان واقعی
دیدگاه‌های تنظیم شده از وضعیت گوناگون دستور کارها را ارائه ‌دهند. در صورتی که یک زیرسیستم، مانند یک سرویس REST خارجی،
آفلاین شود، می‌توان به سرعت شناسایی کرد کدام جریانات کاربر تحت تأثیر قرار می‌گیرند.

### نتیجه گیری

خلاصه این است که تست کردن یک جنبه مهم از توسعه نرم افزار است و انتخاب مراحل تست به مشخصه های خاص و هدف های برنامه مورد
نظر وابسته است. در حالی که تست های مغایر و تست های بخشی در کارایی خود محدودیت دارند، تست های ادغام و تست های مؤلفه
ارزشمند در تحلیل رفتار و عملکرد برنامه هستند. تست های قراردادی به بررسی تعامل با سرویس های خارجی کمک می کنند، اما مرز
بین آن و تست های مؤلفه کمتر است. در نهایت، تست های End-to-End به بالاترین سطح اطمینان از عملکرد سیستم می رسند و تست جامع
برای تمام برنامه ایجاد می کنند. با انتخاب مراحل تست مناسب و ترکیب موثر آن ها، توسعه دهندگان می توانند کیفیت، قابلیت
اطمینان و پایداری نرم افزار خود را تضمین کنند.

### تماس با ما

[GitHub Issues](https://github.com/NovaAnnabella/the_unspoken/issues/new/choose).
