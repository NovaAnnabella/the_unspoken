---
title: "시험 계층: 올바른 균형 찾기"
date: 2023-05-31
author: "Nova Annabella"
slug: test_level
tags: [ Testing, Software Testing, Test Levels, Mock Tests, Unit Tests, Integration Tests, Component Tests, Contract Tests, End-to-End Tests ]
categories: [ Technology, Software Development, Quality Assurance ]
description: "소프트웨어 테스트에 적합한 테스트 수준을 선택할 때 적절한 균형을 찾는 것"
draft: false
images:
  - "/images/content/martin_fowler_testing.png"
card: "summary_large_image"
---


# 테스트 레벨: 올바른 균형 찾기

[![testebenen](/images/content/martin_fowler_testing.png)](https://martinfowler.com/articles/microservice-testing/)

### 서론

테스팅 주제는 오늘날까지도 해석의 많은 여지가 있는 신세계처럼 보인다. 전통적인 테스트 피라미드는 의문의 대상이 되었고, 새로운 테스트 피라미드가 생겨났다. 내 생각에는 테스트 피라미드가 필요하지 않고, 무엇을 테스트해야 하는지에 대한 명확한 이해가 필요하다. 하위 수준의 테스트들은 종종 덜 유의미하다. 특히 행동의 테스트에 초점을 맞춰야 하는데, 이는 API나 UI가 원하는 대로 작동하는지를 확인하기 위함이다. 가능한 테스트 종류에 대한 포괄적인 개요는 여기에서 찾을 수 있다: [Martin Fowler Testing](https://martinfowler.com/articles/microservice-testing/).


### 레벨 1 - 모의 테스트 와 유닛테스트

목표: 소프트웨어의 가장 작은 테스트 가능 부분을 실행하여 예상대로 작동하는지 확인합니다. 모의 테스트와 유닛 테스트는 생산성을 저해하고 개발 과정을 자주 방해할 수 있습니다. 이러한 테스트는 대부분 맥락에서
벗어나 있으며, 현실과는 거리가 멀습니다. 그들은 종종 기존의 유닛 테스트 위에 불필요한 기능들을 유지하기만 하는데 사용됩니다. 모의 검사가 추가되면, 그것은 자기 자신에게 전념하는 것이 됩니다. 모의 테스트의 예상
결과는 원래의 모의에서 정의된 것으로 제한됩니다. 최종 사용자들은 내부 기능에 관심이 없습니다. 예를 들어, 로그인 시나리오에서 `loginUser(name, password,
securityAlgorithmus)`. 유닛 테스트가 `securityAlgorithm` 매개변수에 대해 null 검사를 수행하면, 사용자가 `securityAlgorithm` 매개변수를 설정할 수 없기 때문에
너무 많이 테스트됩니다.

### 레벨 2 - 통합 테스트

목적: 인터페이스 결함 탐지를 위한 구성 요소 간의 커뮤니케이션 경로 및 상호 작용 검토. 통합 테스트는 어플리케이션의 다양한 부분의 성능과 독립성에 대한 귀중한 통찰력을 제공합니다. 더 적은 모의 객체를
사용함으로써 테스트가 더 이해하기 쉬워집니다. 그러나 여전히 컨텍스트가 부족하며, 통합 테스트가 단지 더 적은 모의 객체를 사용하는 유닛 테스트의 변형으로 간주될 위험이 있습니다.

### 레벨 3 - 컴포넌트 테스트

목적: 검사할 시스템의 일부에 테스트 소프트웨어의 범위를 제한하고, 시스템을 내부 코드 인터페이스를 통해 조작하며, 다른 컴포넌트에서 테스트할 코드를 고립시키기 위해 테스트 더블을 사용합니다. 컴포넌트 테스트는
애플리케이션의 품질과 성능에 대한 많은 정보를 제공합니다. 모크 테스트 대신에 드디어 애플리케이션을 테스트하게 됩니다. 컴포넌트 테스트와 엔드투엔드 테스트 사이의 경계는 상당하지 않습니다. 좋은 테스트 환경을 갖추면
이러한 경계가 종종 흐려져 실제 행동을 고립되고 문맥이 없는 기능 대신 테스트할 수 있게 됩니다. 그러나 추가적인 테스트 클래스를 생성하는 것, 예를 들어 컴포넌트 스텁, 페이크, 도구를 제품 코드에 추가하여 추가
유지보수 비용이 발생할 수 있습니다.

### 4단계 - 계약 테스트

이 코드 블록의 목적은 외부 서비스의 경계에서의 상호 작용을 확인하고 해당 서비스가 소비하는 서비스의 계약 요구사항을 충족하는지 확인하는 것입니다. 계약 테스트는 종종 컴포넌트 테스트와 유사하며 그들 사이의 차이는
최소한입니다. 일부 개발자들은 이 테스트를 Pact 테스트와 연관시키는데, 이는 본질적으로 서버를 중간에 두고 수행하는 단위 테스트로 작동합니다. 그러나 이 테스트를 유지하는 데 투자하는 시간과 노력이 가치가 없을
수도 있습니다. 예를 들어, Pact 테스트는 REST API `loginUser?name=aa&password=bb)`를 테스트하고 이전에 Pact 서버에 업로드된 JSON 스키마 응답을 기대할 수 있습니다. 이
스키마는 정적이며 API 응답에서 잘못된 날짜 형식이나 시간대와 같은 오류에 대해 취약합니다. 부정적인 영향은 엄청날 수 있습니다.

### 5단계 - 엔드 투 엔드 테스트 (또한 블랙 박스 테스트라고도 함)

목적: 시스템이 외부 요구사항을 충족하고 목표를 달성하는지 확인하기 위해 시스템 전체를 시작부터 끝까지 테스트합니다. 엔드 투 엔드 테스트는 신뢰성이 높고 견고합니다. 테스트 환경 세팅의 장벽을 극복하게 되면 그
노력이 보람됩니다. 이 테스트는 실제 동작을 시뮬레이트하고 모크의 필요성을 제거합니다. 오류가 훨씬 덜 발생하며, 로컬에서 쉽게 재현할 수 있습니다. 생산성에 관한 복잡한 디버깅 및 프로토콜 관리 대부분이 피하지만,
드문 사이트 사건도 있습니다. 개발자가 생산 데이터를 거의 다루지 않거나 전혀 다루지 않는 경우, 책임감을 줄이고 초점을 늘립니다. 또한 자동 소프트웨어 업데이트와 같은 자동화 테스트의 수행을 쉽게 만들고, 이미
테스트한 동작입니다. 더 많은 이점이 있습니다! 일단 테스트가 재사용 가능한 형태로 쓰여지면, 부하 테스트에 통합될 수 있어서 기능에 대한 포괄적인 이미지를 얻는데 도움이 됩니다. 이러한 테스트는 생산 환경에서
계속해서 수행될 수도 있어서 다양한 워크플로우의 상태에 대한 실시간 통찰력을 제공합니다. 부분 시스템, 즉 외부 REST 서비스가 오프라인으로 전환되는 경우, 어떤 사용자 워크플로우에 영향이 미치는지 즉시 확인할 수
있습니다.

### 결론

요약하면, 테스팅은 소프트웨어 개발의 핵심적인 측면이고, 테스트 단계의 선택은 애플리케이션의 특정 요구사항과 목표에 달려있습니다.
Mock 테스트와 Unit 테스트는 그 효과성이 한정적일 수 있지만, 통합 테스트와 컴포넌트 테스트는 애플리케이션의 작동과 성능에 대한 귀중한 통찰력을 제공합니다. 
Contract 테스트는 외부 서비스와의 상호작용을 확인하는데 도움이 되지만, 당신의 컴포넌트 테스트와의 구분은 최소한일 수 있습니다. 
결국, end-to-end 테스트는 시스템의 기능에 대한 가장 높은 수준의 신뢰를 제공하고, 애플리케이션 전체의 철저한 테스트를 가능하게 합니다. 
적절한 테스트 단계를 선택하고 효과적으로 결합함으로써, 개발자들은 당신의 소프트웨어의 품질, 신뢰성, 그리고 강인함을 보장할 수 있습니다.

### 연락처

[GitHub 이슈](https://github.com/NovaAnnabella/the_unspoken/issues/new/choose).
