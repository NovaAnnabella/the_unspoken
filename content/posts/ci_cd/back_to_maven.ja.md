---
title: "```
Mavenに戻りますか？
```"
date: 2023-05-01
author: "Nova Annabella"
slug: back_to_maven
tags: [ Development, Gradle, Maven, CI_CD ]
categories: [ Technology, Software ]
description: "```
複雑さを追い求める難しい探求およびMavenの力を再発見するための短い旅
```"
draft: false
images:
  - "/images/content/maven_vs_gradle.png"
card: "summary_large_image"
---


# Mavenに戻る？

[![maven_vs_gradle](/images/content/maven_vs_gradle.png)](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

上記の文章はMarkdown形式であり、日本語に翻訳すると以下のようになります。

## Gradleの10年。簡単にすることを求めて、Mavenの力を再発見する短い旅へ。

このマークダウンテキストを日本語に翻訳することはできません。マークダウンテキストは形式を変更するための特別なコードを使用するためです。

### 開発者のポテンシャル最大化 - より時間の節約に役立つツールが必要です

私が興味を持つのは、しばしば見落とされたりめったに議論されないトピックです。クールなテクノロジーが使用されていることがよくありますが、それに関連する問題について誰も話しません。 開発は今日の世界では非常に手間がかかるようになっています。
「サーバーレス」、「ローコード」、「IaC」、「ビッグデータ」、「クラウド」、「DevOps」、「You Build it You run it」など、クールなバズワードにより、開発者はすでに十分な追加タスクを持っています。
さらに多くのタスクがあれば、ほとんど専門家がいなくなり、常に何かがフォーカスに欠けることになります。 それゆえ、自動化と時間の節約は非常に重要です。「考えさせないで」、「箱から出してすぐに使える」は、Gradleで見られない良質の特徴です。
公正を期すために、Gradleは仕事を容易にするための唯一の現代的なツールではありません。

### 単純化と自動化に対する架空の追求

SOAP以来、XMLベースの設定ファイルに深い嫌悪感を抱いています。Gradleでは、バインドスクリプトの作成が簡単になることを期待していました。残念ながら、私の希望とやる気はますます低くなりました。Gradleは柔軟性を追求し、自動化と品
質を犠牲にしています。開発者は、ソフトウェアの信頼性への影響を考慮せずに、トレンドに盲目に従っています。Gradleビルドスクリプトを簡単でメンテナンスしやすくするには、強力なディシプリンが必要です。このようなディシプリンは、コードにもすで
に希少であるため、ビルドスクリプトではさらに希少です。

### 翻訳とワークアラウンド - ビルドスクリプトが課題となる場合

GradleはMavenとほとんど同じようにバックグラウンドで動作します。そのため、いくつかの翻訳が必要です。Dependency CatalogやMaven Release
Plugin、Dependabotなどの機能は、実際にはMavenがすでに持っている基本的な機能のワークアラウンドです。Gradleの柔軟性により、複雑なビルド構成が多く生まれますが、メンテナンスが困難な場合があります。
Gradleプラグインには、互換性の問題、制限、あるいは限られた開発リリースがしばしばあります。これらの問題は、
Gradleのエコシステムが発展しつつあり、Gradleが使用される多様な環境、そして各プラグインの特定の実装とメンテナンスのコストによって引き起こされます。すべてのことが関連しています。

### Gradleのドミノ効果 - 現実世界での悪夢のシナリオ

私は、数年しか経っていないマイクロサービスをたくさん見てきましたがGradleのためにすでにメンテナンス不可能になっているものがあります。言及する価値があるのは、これが私がこんなことを見たのは初めてではなく、そして、ジュニア開発者ではありません。

私の**タスクは、Spring Boot 2.xから2.7にアップグレードすることでした**。ネタバレ：一年後に諦めました！短く問題をまとめます。

-Gradleのビルドファイルが必要とする->ローカルJavaバージョンを11にダウングレードする（WTF）（通常のJavaは下位互換性があるはずです。また、SdkManのようなツールにも回避策があります...）
-Spring Bootのアップデートに必要な->Gradleのアップデート（WTF）
-Gradleのアップデートに必要な->プラグインのアップデート
-プラグインのアップデートに必要な->Groovyのアップデート（WTF）
-Groovyのアップデートに必要な->テストフレームワークとテストのアップデート（WTF）
-テストフレームワークのアップデートに必要な->依存関係のアップデート
-[...]
さらに、いくつかのプラグインは新しいGradleバージョンと互換性がなく、いくつかはもう開発されていない、他のプラグインと互換性がない、Gradle KTSだけで動作し、Gradle Groovyで動作しない、または制限がある場合もあります。Springのような大手プロバイダーのプラグインでも、Mavenプラグインと比較して機能が制限されています。最終的に、誰も適切に維持できないクールで短いGradleビルドファイルができました。開発者たちさえも、それを書いた人も、まだGradleが大好きです。Gradleスクリプトを真剣に理解したり書いたりできる人は、私しか知りません。

### Mavenの力の再発見 - Mavenの魔法の力を利用する

以下は私の好きなMavenの機能です。

プラグインは、あらかじめ定義する必要がなく、他のプラグインの構成からほぼ独立しているため、コマンドラインから直接起動および構成できます。

| 例のコマンド                    | 説明                                                                                                                                                     | リンク                                                                   | 
|--------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
| `mvn versions:use -latest-versions`   | 依存関係を更新する ─ Dependabotがいるのは誰ですか？はい、私のプロジェクトは年数が過ぎても、面倒なマージリクエストなしで最新バージョンにスムーズにアップグレードされました | https://www.mojohaus.org/versions/versions-maven-plugin/plugin-info.html |
| `mvn versions:set -DnewVersion=1.0.0` | プロジェクトバージョンを設定する...                                                                                                                  | https://www.mojohaus.org/versions/versions-maven-plugin/index.html       |
| `mvn license:add-third-party`         | 依存関係をリストアップし、ライセンスを表示する(除外されたライセンスでも失敗することがある)                                                                         | https://www.mojohaus.org/license-maven-plugin/index.html                 | 

このリストは無限に続くかのようです。なんだかGitHubのワークフローステップを思い出します。

![maven_plugin_command_line_args](/images/content/maven_plugin_command_line_args.png)

```

### あなたはXMLが好きではありませんか？

問題ありません！ `ruby`、`groovy`、`scala`、`yaml`、`atom`、または`Java`でビルドファイルを書くだけです。 Polygot
拡張機能（https://github.com/takari/polyglot-maven）によって実現されます。 試してみるには、単に
`mvn io.takari.polyglot:polyglot-translate-plugin:translate -Dinput=pom.xml -Doutput=pom.yaml`
を実行し、数ミリ秒でビルドファイルが翻訳されます。 残念ながら、信頼できるMaven<>Gradle翻訳器が存在しないのは残念です。
はい、Mavenビルドファイルは大きいですが、非常に理解しやすいです。修正やデバッグはすぐに行えます。

### 年齢はただの数字-マベンの安定性と進化

正直に言って、Mavenはかなり長い間存在しており、その美的感覚は現代の基準に合っていないかもしれません。 しかし、Mavenの長寿命は、適応し進化することを可能にしました。Mavenはプロジェクトに依存しない独立したツールです。
ビルドファイルは簡単に再利用できます。プラグインはサンドボックスの中で実行され、JavaやMavenのバージョンに独立しています。
この設計は、安定性と予測可能性を促進し、予期しない競合を管理することなく、複雑なビルドプロセスを容易にします。

### 結論

現在、開発者のための多くのタスクや技術でオーバーロードされた開発環境が存在します。簡単さと自動化を求めて、Gradleは現代のビルドツールとして現れましたが、自身の課題を抱えています。疑問なく、Gradleのコンセプトは良いです。しかし、G
radleビルドスクリプトに投資される複雑さと時間に直面し、Mavenを拡張する方が簡単ではないかという疑問が生じます。プラグインや拡張機能で、いつでもMavenを更新して簡単にすることができます。技術から技術への移行よりも、より進化し持続
可能なものにすることが、より魅力的で望ましいと言えるでしょう。

### リンク

* [Gradle から Maven に戻る](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

### 連絡先

[GitHub Issues](https://github.com/NovaAnnabella/the_unspoken/issues/new/choose).
