---
title: "بازگشت به ماون؟"
date: 2023-05-01
author: "Nova Annabella"
slug: back_to_maven
tags: [ Development, Gradle, Maven, CI_CD ]
categories: [ Technology, Software ]
description: "جست‌وجوی پیچیده برای سادگی و سفر کوتاهی برای بازیابی قدرت میون (Maven) که دشوار به دست آمده است."
draft: false
images:
  - "/images/content/maven_vs_gradle.png"
card: "summary_large_image"
---


# بازگشت به ماون؟

[![maven_vs_gradle](/images/content/maven_vs_gradle.png)](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

## 10 سال گردل. در جستجوی آسانی و یک سفر کوتاه به کشف مجدد قدرت مایون.

این تکست به زبان مارک‌دون است و با فرمت خاص خودش نوشته شده است.

### بیشینه سازی ظرفیت توسعه دهندگان - به ابزارهای بیشتر صرفه جویی در زمان نیاز داریم

موضوعاتی که اغلب نادیده گرفته یا کم بحث می‌شوند، مرا به خود جذب می‌کنند. اغلب تکنولوژی‌های جذاب به کار گرفته می‌شوند،
اما کمتر کسی در مورد مسائل مربوطه صحبت می‌کند. توسعه در دنیای امروز بسیار پرهزینه شده است. با استفاده از کلمات جذاب
مانند "Serverless" ،"Low Code"، "IaC"، "Big Data"، "Cloud"، "DevOps"، "You Build it You run it" و غیره، توسعه دهندگان به
بسیاری از وظایف اضافی نیاز دارند. انجام وظایف اضافی منجر به کمبود کارشناسان می‌شود و همیشه چیزی برای تمرکز نادیده گرفته
می‌شود. بنابراین، خودکارسازی و صرفه‌جویی در زمان بسیار اساسی هستند. "از من نخواهید فکر کنید" و "برای کارهای ساده از جعبه
خارج می‌شود" خصوصیات کیفیت خوبی هستند که در Gradle نمی‌توان آنها را دید. برای رعایت انصاف، Gradle تنها ابزار مدرنی نیست
که به جای تسهیل کار، برای ما کار سخت می کند.

### جستجوی وهم‌آور برای سادگی و اتوماسیون

از زمان SOAP، من تنفر عمیقی از پیکربندی‌های مبتنی بر XML داشتم. با Gradle، من امیدوار بودم که نوشتن اسکریپت‌های بایند یک
بازی کودکانه خواهد بود. متأسفانه، امیدهای من و انگیزه‌ام به تدریج کمتر شد. Gradle به دنبال انعطاف‌پذیری است و به جای آن،
اتوماسیون و کیفیت را زیبا می‌کند. توسعه‌دهندگان به‌صورت نابخردانه، برای روند بعدی به‌روزرسانی به‌سوی مد روشن پاسخگویی
می‌کنند و از اثرات آن بر روی قابلیت اطمینان نرم‌افزار بی‌خبر هستند. برای نگهداری ساده و قابل تعمیر، اسکریپت‌های ساخت
Gradle نیاز به انضباط شدیدی دارند. به‌دلیل نداشتن چنین انضباطی در کد منبع توسعه متداول است و به‌همین دلیل در اسکریپت‌های
ساخت بسیار کمی دیده می‌شود.

### ترجمه و راهکارها - وقتی اسکریپت‌های بیلد یک چالش محسوب می‌شوند

گردل بطور پس‌زمینه به همان اندازه که ماون کار می‌کند، فعالیت می‌کند. بنابراین، برخی از ترجمه‌ها لازم است. ویژگی‌هایی
مانند Catalog وابستگی، پلاگین انتشار ماون، Dependabot و بسیاری دیگر در حقیقت راهکارهایی برای ویژگی‌های بنیادی هستند که
ماون در اختیار دارد. با انعطاف‌پذیری گردل، غالباً تنظیمات پیکربندی ساخت پیچیده‌ای ایجاد می‌شود که سخت‌تر به صورت تعمیر و
نگهداری است. پلاگین‌های گردل مشکلات سازگاری، محدودیت‌ها و یا توسعه محدود دارند. این مشکلات به دلیل طبیعت در حال توسعه
جامعه گردل، تنوع محیط‌های کاری، در چارچوب زمانی و هزینه و پیاده‌سازی مربوط به هر پلاگین پیش می‌آیند. همه چیز مرتبط است.

### اثر دومینویی گریدل - یک سناریوی کابوسی در دنیای واقعی

من بسیاری از میکرو‌سرویس‌ها را دیده‌ام که تنها چند سال سن داشتند و به دلیل Gradle دیگر قابل تعمیر نبودند. مهم است که این اولین باری نیست که چنین چیزی را مشاهده می‌کنم و نه، این با دیو‌های جونیور بود.
 
**وظیفه‌ی من انجام آپگرید Spring Boot 2.x به 2.7 بود**. پیش بینی: بعد از یک سال، من تسلیم شدم! مشکلات به صورت خلاصه:
 
* پرونده ساخت Gradle به -> نسخه جاوا من برای پایین بردن نسخه جاوا محلی خود به 11 نیاز دارد (ذهن نویسنده را به وحشت انداخت) (عموماً جاوا به صورت پایینگاهی سازگار است - همچنین ابزارهای دیگری همچون SdkMan... موجود هستند ...)
* به روزرسانی Spring Boot -> به روزرسانی Gradle نیاز دارد (ذهن نویسنده را به وحشت انداخت)
* به روزرسانی Gradle -> به روزرسانی پلاگین‌ها نیاز دارد
* به روزرسانی پلاگین -> به روزرسانی Groovy نیاز دارد (ذهن نویسنده را به وحشت انداخت)
* به روزرسانی Groovy -> به روزرسانی فریم‌ورک و به روزرسانی تست‌ها نیاز دارد (ذهن نویسنده را به وحشت انداخت)
* به روزرسانی فریم‌ورک تست -> به روزرسانی وابستگی‌ها نیاز دارد
* [...]
  علاوه بر این، بعضی از پلاگین‌ها با نسخه‌های Gradle جدید کار نمی کنند، بعضی دیگر دیگر به توسعه نمی‌رسانند، با سایر پلاگین‌ها سازگار نیستند، فقط با Gradle KTS و نه با Gradle Groovy کار می کنند یا محدودیت‌هایی دارند. حتی پلاگین‌هایی از تامین کنندگان بزرگ مانند Spring در مقایسه با پلاگین‌های Maven آنها، قابلیت عملکرد محدودتری دارند. در نهایت، من یک پرونده ساخت Gradle کوتاه و جذاب دارم که هیچ کس نمی تواند آن را به درستی تعمیر کند، حتی توسعه دهندگانی که آن را نوشته اند و هنوز هم Gradle را دوست دارند. من تنها چند نفر را می‌شناسم که به جدی Scriptهای Gradle را درک و نوشتن می‌کنند.

### کشف مجدد قدرت Maven - بهره‌برداری از قدرت فریبند Maven

اینجا علاقه‌مندی‌های مورد علاقه من از Maven هستند:
پلاگین‌ها می‌توانند مستقیماً از خط فرمان شروع و پیکربندی شوند، بدون این که قبلاً تعریف شوند.
علاوه بر این، آنها به طور گسترده‌ای از دیگر پیکربندی‌های پلاگین مستقل هستند.

| دستور نمونه| شرح | لینک |
|-----------|---------------------------|--------------------------------------------------|
| `mvn versions:use -latest-versions` | بروزرسانی نسخه‌ها - کسی به Dependabot نیاز ندارد؟ بله، پروژه‌های من برای سال‌ها به آخرین نسخه به راحتی بروزرسانی شده است، بدون درخواست‌های ادغام مزاحم. | https://www.mojohaus.org/versions/versions-maven-plugin/plugin-info.html |
| `mvn versions:set -DnewVersion=1.0.0` | تعیین نسخه پروژه | https://www.mojohaus.org/versions/versions-maven-plugin/index.html |
| `mvn license:add-third-party` | فهرست و نمایش لایسنس‌های وابستگی‌ها (ممکن است حتی در صورت انحراف از لایسنس‌های خارج شده شکست خورد) | https://www.mojohaus.org/license-maven-plugin/index.html | 

لیست ممکن است به این شکل به طول بیافتد. به نوعی به مراحل کار شبکه GitHub یادآوری می‌کند.

![maven_plugin_command_line_args](/images/content/maven_plugin_command_line_args.png)

```

### آیا شما از XML خوشتان نمی‌آید؟

هیچ مشکلی نیست! فقط فایل ساخت خود را در `ruby`، `groovy`، `scala`، `yaml`، `atom` یا `Java` بنویسید. این امکان با استفاده از افزونه Polygot (https://github.com/takari/polyglot-maven) فراهم شده است. برای آزمایش، به راحتی با اجرای دستور `mvn io.takari.polyglot:polyglot-translate-plugin:translate -Dinput=pom.xml -Doutput=pom.yaml`، فایل ساخت شما در چندین میلی ثانیه ترجمه خواهد شد. متأسفانه ترجمه‌کننده قابل اعتمادی میان Maven و Gradle وجود ندارد :( به هرحال، فایل‌های ساخت Maven بزرگ اند، اما بسیار آسان قابل فهم می‌باشند و هرگونه بهبود یا اشکال زدایی به سرعت انجام می‌شود.

### سن فقط یک شماره است - پایداری و تکامل ماونز

بدون شک، Maven یک مدت زیادی است که وجود دارد و ظاهر آن شاید با استانداردهای امروزی مطابقت نداشته باشد. اما برای Maven
این طول عمر، این امکان را فراهم کرده است که به تغییر و توسعه پذیر باشد. Maven مستقل از پروژه شما کار می کند. فایل های
بیلد (ساخت) می توانند به راحتی دوباره استفاده شوند. پلاگین ها در sandbox اجرا می شوند و مستقل از هم و نسخه های Java یا
Maven هستند. این طراحی پایداری و قابلیت پیش بینی را ترویج می دهد و مدیریت فرآیندهای بیلد (ساخت) پیچیده را بدون هیچگونه
تداخل غیر منتظره ای آسان می کند.

### نتیجه گیری

امروزه محیط توسعه‌ی کاربردی با مسئولیت‌ها و فناوری‌های زیادی برای توسعه‌دهندگان پرشور است. در جستجوی سادگی و خودکارسازی،
Gradle به عنوان یک ابزار ساخت بنیادی ظاهر شده است، اما چالش‌های خاص خود را به همراه دارد. بدون شک، ایده Gradle خوب است!
اما با توجه به پیچیدگی و زمان صرف شده برای ایجاد اسکریپت‌های ساخت Gradle، سوال پیش می‌آید که آیا گسترش Maven به میزان
کافی ساده‌تر نیست؟ با پلاگین‌ها و گسترش‌ها، Maven می‌تواند همیشه به‌روز شده و ساده‌تر شود. آیا توسعه Maven دراز مدت جذاب
تر نیست و بیشتر در جایگاه پایداری قرار می‌گیرد تا از یک فناوری به فناوری دیگر پرش کنیم؟

### پیوندها

* [بازگشت به Maven از Gradle](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

### تماس

[ایشوهای گیت‌هاب](https://github.com/NovaAnnabella/the_unspoken/issues/new/choose).```
