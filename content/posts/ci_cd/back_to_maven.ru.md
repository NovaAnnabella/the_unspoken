---
title: "Вернуться к Maven?"
date: 2023-05-01
author: "Nova Annabella"
slug: back_to_maven
tags: [ Development, Gradle, Maven, CI_CD ]
categories: [ Technology, Software ]
description: "Die schwer fassbare Suche nach Einfachheit und eine kurze Reise zur Wiederentdeckung der Macht von Maven
```
Трудный поиск простоты и короткое путешествие к восстановлению силы Maven
```"
draft: false
images:
  - "/images/content/maven_vs_gradle.png"
card: "summary_large_image"
---


# Вернуться к Maven?

[![maven_vs_gradle](/images/content/maven_vs_gradle.png)](https://phauer.com/2018/moving-back-from-gradle-to-maven/) 

Перевод: 

[![maven_vs_gradle](/images/content/maven_vs_gradle.png)](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

## 10 лет Gradle. В поисках облегчения и краткое путешествие для обнажения силы Maven.

Перевод текста на языке Markdown на русский язык: ``` ```

### Максимизация потенциала разработчиков - Нам нужны больше инструментов, экономящих время

Темы, которые часто игнорируются или редко обсуждаются, меня интересуют. Часто используются классные технологии, но почти никто не говорит о связанных с ними проблемах. Разработка сегодня стала очень трудоемкой. С помощью классных слов, таких как «безсерверное», «низкий код», «IaC», «большие данные», «облако», «DevOps», «Вы строите - Вы запускаете» и т.д., разработчики уже имеют более чем достаточно дополнительных задач. Больше задач означает, что почти нет экспертов, и всегда что-то пренебрегается в пользу фокуса. Поэтому автоматизация и экономия времени очень важны. "Не заставляй меня думать" и "Работает сразу" уже являются хорошими качественными характеристиками, которые я не вижу в Gradle. Честно говоря, Gradle не единственный современный инструмент, который делает нашу работу труднее вместо того, чтобы облегчить ее.

### Иллюзорный поиск простоты и автоматизации

С тех пор, как я столкнулся с SOAP, у меня глубокое отвращение к конфигурациям на основе XML. Я надеялся, что с помощью
Gradle написание скриптов для связывания будет легкой задачей. К сожалению, мои надежды и мотивация с каждым разом
уменьшались. Gradle стремится к гибкости, принимая на вход компромисс между автоматизацией и качеством. Разработчики
слепо следуют трендам, не обращая внимания на последствия для надежности программного обеспечения. Чтобы сохранить
скрипты сборки Gradle простыми и поддерживаемыми, необходима сильная дисциплина. Такая дисциплина уже редко встречается
в исходном коде, и поэтому еще реже в скриптах сборки.```

### Переводы и обходные пути - Когда сценарии сборки становятся вызовом

Gradle работает в фоновом режиме не намного иначе, чем Maven. Поэтому необходимы некоторые переводы. Функции, такие как
Dependency Catalog, Maven Release Plugin, Dependabot и многие другие, являются на самом деле обходными путями для основных
функций, которые уже присутствуют в Maven. Гибкость Gradle часто приводит к сложным конфигурациям сборки,
которые трудно поддерживать.
У плагинов Gradle часто возникают проблемы совместимости, ограничения или ограниченное развитие. Эти проблемы возникают
из-за развивающейся природы экосистемы Gradle, разнообразия сред, в которых используется Gradle, а также
особенностей реализации и обслуживания для каждого плагина. Все взаимосвязано.

### Домино-эффект от Gradle - сценарий кошмара в реальном мире

Я видел много микросервисов, которые были всего несколько лет и были уже неподдерживаемы из-за Gradle. 
Важно отметить, что это не первый раз, когда я видел что-то подобное, и нет, это не были начинающие разработчики.

Моя **задача заключалась в обновлении Spring Boot 2.x до 2.7**. Спойлер: я сдался после года! Проблемы в кратком освещении:

* Файл сборки Gradle требует -> понижение версии моей локальной Java до 11 (WTF) (Обычно Java совместима со старыми версиями - здесь также есть инструменты-обходчики, такие как SdkMan...)
* Обновление Spring Boot требует -> обновления Gradle (WTF)
* Обновление Gradle требует -> обновления плагина
* Обновление плагина требует -> обновления Groovy (WTF)
* Обновление Groovy требует -> обновления тестового фреймворка и тестов (WTF)
* Обновление тестового фреймворка требует -> обновлений зависимостей
* \[...]
  Кроме того, некоторые плагины не работают с более новыми версиями Gradle, некоторые больше не разрабатываются, несовместимы с другими плагинами, работают только с Gradle KTS, а не с Gradle Groovy, или имеют просто ограничения. Даже у плагинов крупных поставщиков, таких как Spring, по сравнению с их Maven-плагинами есть ограниченные возможности. В конце концов, у меня есть крутой, короткий файл сборки Gradle, который никто не может правильно поддерживать, даже разработчики, которые его написали, и они все еще любят Gradle. Я знаю только нескольких людей, которые могут серьезно понимать и писать скрипты Gradle.

### Восстановление сил Maven - использование магических сил Maven

Вот мои любимые функции Maven: 

Плагины могут быть запущены и настроены прямо из командной строки, без необходимости предварительного определения. При этом они в значительной степени независимы от других конфигураций плагинов.

| Пример команды                        | Описание                                                                                                                                                        | Ссылка                                                                     | 
|---------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
| `mvn versions:use -latest-versions`   | Обновление версий - а кто нуждается в Dependabot? Да, мои проекты успешно обновляются до последней версии уже несколько лет, без необходимости злостно сливать ветки | https://www.mojohaus.org/versions/versions-maven-plugin/plugin-info.html |
| `mvn versions:set -DnewVersion=1.0.0` | Установить версию проекта...                                                                                                                                         | https://www.mojohaus.org/versions/versions-maven-plugin/index.html       |
| `mvn license:add-third-party`         | Показать список зависимостей и их лицензии (может даже не сработать при написании "исключенных" лицензий)                                                        | https://www.mojohaus.org/license-maven-plugin/index.html                 |

Этот список мог бы продолжаться бесконечно. В какой-то мере это напоминает шаги рабочего процесса в GitHub.

![maven_plugin_command_line_args](/images/content/maven_plugin_command_line_args.png)
```

### Вам не нравится XML?

Нет проблем! Просто напишите свой файл сборки на `ruby`, `groovy`, `scala`, `yaml`, `atom` или `Java`. Расширение Polyglot (https://github.com/takari/polyglot-maven) делает это возможным. Чтобы попробовать, просто выполните команду `mvn io.takari.polyglot:polyglot-translate-plugin:translate -Dinput=pom.xml -Doutput=pom.yaml` и через несколько миллисекунд ваш файл сборки будет переведен. Жаль, что нет надежного переводчика Maven <> Gradle :( Да, файлы сборки Maven большие, но их очень легко понять. Недостатки или отладку можно быстро исправить.

### Возраст - это только число: устойчивость и эволюция завсегдатаев

Признаться, Maven уже существует довольно давно, и его эстетика, возможно, не соответствует современным стандартам.
Однако долговечность Maven позволила ему приспосабливаться и развиваться. Maven работает независимо от вашего проекта.
Файлы сборки могут легко повторно использоваться. Плагины работают в песочнице и независимы друг от друга и от версий
Java или Maven. Этот дизайн способствует стабильности и предсказуемости, делая управление сложными процессами сборки без
неожиданных конфликтов простым.

### Итог

В настоящее время среда разработки перегружена множеством задач и технологий для разработчиков. В поисках простоты и
автоматизации появился Gradle как современный инструмент для сборки, но он также принес свои собственные вызовы.
Безусловно, концепция Gradle хороша! Однако, учитывая сложность и время, затрачиваемое на сценарии сборки Gradle, встает
вопрос о том, не было бы лучше расширить Maven. C помощью плагинов и расширений Maven можно обновлять и упрощать в любое
время. Не будет ли развитие более интересным и устойчивым, чем переход от одной технологии к другой?

### Ссылки

* [Возврат от Gradle к maven](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

### Контакт

[Проблемы GitHub](https://github.com/NovaAnnabella/the_unspoken/issues/new/choose).```
