---
title: "กลับไปที่ Maven หรือ?"
date: 2023-05-01
author: "Nova Annabella"
slug: back_to_maven
tags: [ Development, Gradle, Maven, CI_CD ]
categories: [ Technology, Software ]
description: "การค้นหาความเรียบง่ายที่ลำบากและการเดินทางสั้นๆ เพื่อค้นพบพลังของ Maven"
draft: false
images:
  - "/images/content/maven_vs_gradle.png"
card: "summary_large_image"
---


# กลับไปยัง Maven?

[![maven_vs_gradle](/images/content/maven_vs_gradle.png)](https://phauer.com/2018/moving-back-from-gradle-to-maven/) 
(ไม่มีการแปลเนื้อหาเนื่องจากเป็นภาษา Markdown)

## 10 ปี Gradle การค้นหาความสะดวกและการเดินทางสั้นๆ เพื่อค้นพบความแข็งแกร่งของ Maven อีกครั้ง

ไม่มีข้อความที่ต้องแปลใน Markdown

### การสร้างศักยภาพของนักพัฒนา - เราต้องการเครื่องมือที่ประหยัดเวลามากขึ้น

หัวข้อที่มักถูกละเลยหรือไม่ถูกพูดคุ้ยเสียอย่างน้อยนักศึกษาได้เอาใจชื่นชอบ ต่างหากเทคโนโลยีที่น่าสนใจถูกนำมาใช้งาน
แต่ใครๆก็ไม่ค่อยพูดถึงปัญหาที่เกี่ยวข้องกับมัน การพัฒนาในปัจจุบันนั้นได้กลายเป็นเรื่องที่ซับซ้อน ด้วย Buzzwords
ที่สนุกสนานอย่างเช่น "Serverless", "Low Code", "IaC", "Big Data", "Cloud", "DevOps", "You Build it You run it" และอื่นๆ
นักพัฒนาต้องจัดการกับภาระงานเพิ่มมากขึ้น ซึ่งมีผลให้พวกเขามีเวลาน้อยกว่าเดิมและโอกาสการให้คำปรึกษาลดลง
ดังนั้นการอัตโนมัติและเครื่องมือการประหยัดเวลาเป็นสิ่งที่สำคัญอย่างยิ่ง เพื่อให้ได้ความคิดเห็นว่า "Don’t make me think"
และ "Works out of the Box" เป็นตัวบ่งชี้ที่ดีในการตัดสินใจว่ามีคุณภาพของ Gradle อยู่หรือไม่ อย่างไรก็ตาม Gradle
ไม่ใช่เครื่องมือที่ทำงานอย่างราบรื่นต่อไปนี้เท่านั้น เครื่องมือสมัยใหม่อื่น ๆ
ก็มีผลทำให้งานของเรายุ่งยากมากขึ้นแทนที่จะทำให้ง่ายขึ้น

### การค้นหาที่เป็นไปไม่ได้ของความเรียบง่ายและการอัตโนมัติ

ตั้งแต่ SOAP เรามีความเกลียด XML-based configuration อย่างลึกซึ้ง กับ Gradle เราคิดว่าการเขียน Bind script จะง่ายขึ้น เรื่อยๆ แต่หวังอันดับแรกของเราและความกระตือรือร้นที่ลดลงเรื่อยๆ  Gradle มุ่งหวังไปที่ความยืดหยุ่นและสร้างสิ่งต่างๆ ที่ต้องการอย่างพ้นฐานและกำเนิดซ้ำรูปแบบ นักพัฒนาติดตามแนวโน้มโดยสมบูรณ์แบบโดยไม่ได้คำนึงถึงผลกระทบต่อความเชื่อถือของซอฟต์แวร์ ในการที่จะทำให้ Gradle Build script ง่ายและง่ายต่อการบำรุงรักษามีความจำเป็นต้องมีการระงับพฤติกรรมการเขียนโค้ดตั้งแต่ต้นและสุดท้าย จากนั้นจึงนำไปใช้ใน Build script ซึ่งเป็นสิ่งที่หายากมาก

### การแปลและการปฏิบัติการชั่วคราว - เมื่อสคริปต์การสร้างเป็นการท้าทาย

Gradle ทำงานในพื้นหลังไม่ต่างกับ Maven มากเท่าไร ดังนั้นจึงต้องมีการแปลงบางอย่างได้ เช่น คุณสมบัติเช่นการทำแคตตาล็อกของ Dependency, Maven Release Plugin, Dependabot และอื่น ๆ จริง ๆ เป็น Workarounds สำหรับฟังก์ชันพื้นฐานที่ Maven มีอยู่แล้ว ด้วยความยืดหยุ่นของ Gradle จึงทำให้เกิดการกำหนดค่า Build ที่ซับซ้อนได้อย่างไร้ข้อจำกัด แต่ส่วนใหญ่ยากต่อการดูแลส่วนย่อยของโค้ด เนื่องจากปลั๊กอินของ Gradle มักจะมีปัญหาเกี่ยวกับความเข้ากันได้ ข้อจำกัดหรือการพัฒนาต่อยอดที่จำกัด ปัญหาเหล่านี้เกิดขึ้นเพราะลักษณะการพัฒนาใน Gradle-อีคอสเซตที่กำลังเจริญเติบโต ความหลากหลายของสภาพแวดล้อมที่ทำงาน Gradle และความต้องการส่วนบุคคลสำหรับการดูแลและพัฒนาปลั๊กอินแต่ละตัวคือสิ่งที่เชื่อมโยงกันไว้ทั้งหมด.

### การกระจายผลกระดาษโดมิโนของ Gradle - สถานการณ์ที่น่ากลัวในโลกจริง

ฉันเคยเห็น Microservices หลายๆ ตัวที่มียุคไม่นานแต่เนื่องจาก Gradle ไม่สามารถบำรุงรักษาได้อีกต่อไป ควรจะกล่าวไว้ว่า นี่ไม่ใช่ครั้งแรกที่ฉันเห็นเหตุการณ์เช่นนี้ แล้วก็ไม่ใช่ Junior Devs เลย

**งานของฉันคือ การอัพเกรด Spring Boot 2.x ไปเป็น 2.7** สรุปว่า ฉันล้มเหลวหลังจากทำงานนี้ไปประมาณปี! ปัญหาในสรุป:

* Build-File ของ Gradle ต้องการ -> การ downgrade Java-Version ที่เครื่องบนเครือข่ายได้ (WTF) (โดยปกติ Java ถูกสอดคล้องกับเวอร์ชั่นเก่าและใหม่ - และยังมีเครื่องมือ Workaround-Tools เช่น SdkMan...)
* Spring Boot-Update ต้องการ -> Gradle-Update (WTF)
* Gradle-Update ต้องการ -> Plugin-Update
* Plugin-Update ต้องการ -> Groovy-Update (WTF)
* Groovy-Update ต้องการ -> Test-Framework-และ Test-Updates (WTF)
* Test-Framework-Update ต้องการ -> การอัพเดท Dependencies
* \[...]
  นอกจากนี้ยังมีการทำงานบางอย่างที่ Plugin บางตัวไม่สามารถทำงานได้กับ Gradle เวอร์ชั่นใหม่ๆ บางตัวก็ไม่มีการพัฒนาต่อไป บางตัวไม่สามารถทำงานร่วมกับ Plugin อื่นๆ ได้ บางตัวทำงานได้เฉพาะกับ Gradle KTS ไม่ได้กับ Gradle Groovy หรือจะมีการจำกัดต่างๆ ด้วย แม้ว่า Plugin จากผู้ให้บริการชื่อดังอย่าง Spring ก็ยังมีความสามารถที่จำกัดเมื่อเทียบกับ Maven-Plugin ของพวกเขา สุดท้ายฉันได้สร้าง Build-File ของ Gradle ที่สั้นและเจ๋งไปเลย แต่ไม่มีใครสามารถบำรุงรักษาได้อย่างถูกต้อง แม้สิ่งนี้จะถูกเขียนขึ้นโดยนักพัฒนาที่รัก Gradle อยู่ดี ฉันรู้แค่นิดหน่อยที่บางคนจะเข้าใจ Script ของ Gradle และเขียนได้จริงๆ

### การค้นพบความแข็งแกร่งของเครื่องมือ Maven - การใช้พลังของ Maven

นี่คือฟังก์ชันโปรดของ Maven ของฉัน:
พลักษณะเด่นของ Plugin คือสามารถเรียกใช้และกำหนดค่าได้อย่างตรงได้จาก command line โดยไม่จำเป็นต้องกำหนดไว้ก่อน โดยทั่วไปแล้วมันยังไม่ได้เกี่ยวข้องกับการกำหนดค่า Plugin อื่น ๆ

| คำสั่งตัวอย่าง   | คำอธิบาย                                                                                                                                                         | ลิงก์                                                                     | 
|---------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
| `mvn versions:use -latest-versions`   | อัปเดตเวอร์ชัน - ใครต้องการ Dependabot? ใช่ โปรเจกต์ของฉันมีการอัปเดตเป็นเวอร์ชั่นล่าสุดมาหลายปีแล้วโดยไม่มีการร้องขอ Merge-Anfragen  | https://www.mojohaus.org/versions/versions-maven-plugin/plugin-info.html |
| `mvn versions:set -DnewVersion=1.0.0` | กำหนดเวอร์ชันของโปรเจกต์...                                                                                                                                          | https://www.mojohaus.org/versions/versions-maven-plugin/index.html       |
| `mvn license:add-third-party`         | แสดงรายการขึ้นไปยัง dependencies และแสดงใบอนุญาตของพวกเขา (อาจล้มเหลวได้ถ้าเกี่ยวข้องกับใบอนุญาตที่ถูกยกเลิก)                                                        | https://www.mojohaus.org/license-maven-plugin/index.html                 | 

รายการเหล่านี้สามารถขยายต่อไปได้อีกเสมอ มันทำให้ฉันสัมผัสถึง GitHub Workflow Steps.

![maven_plugin_command_line_args](/images/content/maven_plugin_command_line_args.png)
```

### คุณไม่ชอบ XML หรือ?

ไม่มีปัญหา! เพียงแค่เขียน Build File ของคุณในรูปแบบ `ruby`, `groovy`, `scala`, `yaml`, `atom` หรือ `Java` แล้วใช้พวก Polyglot Extension (https://github.com/takari/polyglot-maven) ก็จะช่วยแปลงได้เลยค่ะ สำหรับการลองใช้ ให้พิมพ์ `mvn io.takari.polyglot:polyglot-translate-plugin:translate -Dinput=pom.xml -Doutput=pom.yaml` แล้วรันคำสั่งนี้ ในไม่กี่มิลลิวินาที  Build File ของคุณก็จะถูกแปลงเป็นอีกภาษาหนึ่งแล้วค่ะ แต่น่าเสียดายที่ยังไม่มีเครื่องมือแปลง Maven <> Gradle ที่เป็นไปได้ค่ะ :(
แม้ว่า Maven Build Files จะใหญ่ แต่ก็ง่ายต่อการเข้าใจ ถ้าต้องแก้ไขหรือ Debugging ก็ทำได้อย่างรวดเร็วค่ะ.

### อายุเป็นเพียงตัวเลข - ความแข็งแกร่งและความเปลี่ยนแปลงของ Mavens

ยอมรับว่า Maven มีอยู่มานานแล้วและสไตล์โดยทั่วไปของมันอาจไม่ตรงกับมาตรฐานปัจจุบันบางอย่าง แต่ความยาวนานของ Maven
ทำให้มันสามารถที่จะปรับตัวและพัฒนาต่อไปได้ Maven ทำงานอย่างอิสระจากโปรเจ็กต์ของคุณ ไฟล์ Build
สามารถนำกลับมารีไซเคิลได้อย่างง่ายดาย Plugin ทำงานใน Sandbox และมีความอิสระกับ Java หรือเวอร์ชัน Maven
การออกแบบนี้ส่งเสริมความมั่นคงและความเป็นไปได้และทำให้ง่ายต่อการจัดการกระบวนการ Build
ที่ซับซ้อนโดยไม่ได้เผชิญกับความขัดแย้งที่ไม่คาดคิด

### สรุปผล

ในปัจจุบันโดยทั่วไปแล้วสภาวะการพัฒนาโปรแกรมมีภาระงานและเทคโนโลยีมากมายสำหรับนักพัฒนา โดยต้องการความง่ายและการอัตโนมัติ
Gradle ถือเป็นเครื่องมือ Build รูปแบบใหม่ แต่ก็จะมีความท้าทายของตัวเอง ไม่เป็นเรื่องสงสัยว่าแนวคิดของ Gradle ดี
แต่เมื่อพบกับความซับซ้อนและเวลาในการลงทุนศึกษาของสคริปต์ Gradle คำถามว่าไม่เป็นที่จะมีการขยายพัฒนา Maven
ด้วยโปรแกรมปลั๊กอินและส่วนขยาย เพื่อให้ปรับปรุงและทำให้ง่ายขึ้นได้ทุกเมื่อ
การพัฒนาต่อยอดไม่ใช่เรื่องน่าตื่นเต้นและยังช่วยสร้างผลประโยชน์ได้มากกว่าการกระโดดไปยังเทคโนโลยีต่าง ๆ

### ลิงก์

* [ย้อนกลับจาก Gradle ไปยัง Maven](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

### ติดต่อเรา

[GitHub Issues](https://github.com/NovaAnnabella/the_unspoken/issues/new/choose).
