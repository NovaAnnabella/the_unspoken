---
title: "กลับไปยัง Maven?"
date: 2023-05-01
author: "Nova Annabella"
slug: back_to_maven
tags: [ Development, Gradle, Maven, CI_CD ]
categories: [ Technology, Software ]
description: "การค้นหาความเรียบง่ายที่ยากจับตัวและการเดินทางสั้นๆ ในการค้นพบความสามารถของ Maven"
draft: false
images:
  - "/images/content/maven_vs_gradle.png"
card: "summary_large_image"
---


# กลับไปใช้งาน Maven อีกครั้งหรือเปล่า?

ไม่สามารถแปลได้เนื่องจากเป็นโค้ดของ Markdown ซึ่งไม่มีเนื้อหาที่เป็นภาษาโปรแกรมใดๆ ที่ต้องแปลเป็นภาษามนุษย์

## 10 ปีของ Gradle การมองหาความสะดวกและการเดินทางสั้นๆในการค้นพบความแข็งแกร่งของ Maven.

ไม่มีข้อความใน Markdown

### การสร้างศักย์ของนักพัฒนา - เราต้องการเครื่องมือที่ช่วยประหยัดเวลามากขึ้น

หัวเรื่องที่ถูกมองข้ามหรือไม่ได้ถูกพูดคุยบ่อย ๆ นั้นดึงดูดแรงดึงดูดใจฉันมาก
บ่อยครั้งที่เทคโนโลยีที่โดดเด่นได้ถูกนำมาใช้แล้ว แต่ไม่มีใครพูดถึงปัญหาที่เกี่ยวข้องกับมัน
การพัฒนามีความซับซ้อนมากขึ้นเป็นอย่างมากในปัจจุบัน ด้วยคำศัพท์ที่เป็นที่นิยมอย่าง “Serverless”, “Low Code”, “IaC”, “Big
Data”, “Cloud”, “DevOps”, “You Build it You run it” แต่ละประเภทนั้นก็มีงานขยายเพิ่มขึ้น ทำให้ไม่มีผู้เชี่ยวชาญกลางแล้ว
และเรื่องไหนก็ต้องละเลยในที่สุด ดังนั้นการอัตโนมัติและการประหยัดเวลาเป็นสิ่งที่สำคัญมาก “Don’t make me think” และ
“Works out of the Box” เป็นคุณภาพที่ดีใน Gradle ที่ยังไม่เห็นได้ ในความเป็นจริง Gradle
ไม่ได้เป็นเครื่องมือที่ทำให้ง่ายขึ้น ซึ่ง Gradle ไม่ได้เป็นเครื่องมือที่ทำให้ง่ายขึ้นเพียงอย่างเดียว ยังมีเครื่องมืออื่น
ๆ ที่ทำให้เรางงมากขึ้นเช่นกัน ซึ่งทำให้เรามีมากขึ้นแทนการลดลง

### การค้นหาที่มีอยู่แต่เป็นภาพลวงตาเพื่อความง่ายและการอัตโนมัติ

ตั้งแต่ใช้ SOAP ฉันมีความเกลียด XML-based configuration อย่างลึกซึ้ง ด้วย Gradle ฉันคิดว่าเขียนสคริปต์ผูกมันจะง่ายมากนั่น แต่นั้นเป็นความหวังและแรงจูงใจที่ลดลงจากเวลาไปเวลามา Gradle มุ่งหวังที่จะมีความยืดหยุ่นและสละคุณภาพของการออโตเมชันเพื่อให้ผู้พัฒนาทำตามแนวโน้มโดยไม่คำนึงถึงผลกระทบต่อความเชื่อถือของซอฟต์แวร์ เพื่อทำให้ Gradle Build Scripts ง่ายและสามารถบำรุงรักษาได้ จำเป็นต้องมีว discipline แข็งแกร่ง เรียงร้อย แต่ว่า discipline ของชาวโค้ดนั้นมีน้อยมากในซอร์สโค้ดแล้ว จึงยิ่งไม่มีใน Build Scripts.

### การแปลและการทำงานแก้ไข - เมื่อสคริปต์การสร้างเป็นความท้าทาย

Gradle ทำงานในพื้นหลังไม่ต่างกับ Maven มากนัก ดังนั้นจึงจำเป็นต้องแปลงแปลงบางส่วน ฟีเจอร์เช่น Dependency Catalog, Maven
Release Plugin, Dependabot และอื่นๆ เป็นเครื่องมือช่วยในการทำงานพื้นฐานที่ Maven นั้นมีมาตรฐานอยู่แล้ว
ด้วยความยืดหยุ่นของ Gradle ทำให้เกิดการกำหนดค่า Build ที่ซับซ้อนได้ เป็นอันตรายเมื่อต้องการบำรุงรักษา โปรแกรมปลั๊กอินของ
Gradle มักพบปัญหาเรื่องความเข้ากันได้และความจำกัดหรือการพัฒนาต่อยอดที่ถูกจำกัด
ปัญหาเหล่านี้เกิดขึ้นเพราะธรรมชาติของเครื่องมือของ Gradle ที่เป็นเอกสารอ้างอิงที่ได้รับการพัฒนาขึ้น
ความหลากหลายของสภาพแวดล้อมที่ Gradle ถูกนำเข้าไปใช้
และความคล้ายคลึงในการแสดงผลและการบำรุงรักษาสำหรับโปรแกรมปลั๊กอินแต่ละตัว ทุกอย่างเชื่อมโยงกันด้วยกัน

### อิธิพลของ Gradle - ฉากสไตล์นิ้วโป้งในโลกจริง

ฉันเห็นมี Microservices หลายรายการที่อายุไม่ถึงกว่า 1 ปีแล้วไม่มีคนสามารถซ่อมบำรุงได้เนื่องจาก Gradle เป็นหลักสูตร ในการปรับปรุง Spring Boot 2.x เป็น 2.7 ภารกิจสำคัญของฉัน ระยะเวลา 1 ปีได้เลิก! ปัญหาอย่างสังเขป:

* Gradle-build-file เรียก Java เวอร์ชันอาศัย -> การตกเวอร์ชัน Java ภายใน (WTF) (Java สามารถทำงานได้อย่างที่สูงกว่า - ในที่นี้มีเครื่องมือ Workaround อย่าง SdkMan ...)
* การอัปเดต Spring Boot -> การอัปเดต Gradle (WTF)
* การอัปเดต Gradle ระบุ -> การอัปเดตปลั๊กอิน
* การอัปเดตปลั๊กอิน -> การอัปเดต Groovy (WTF)
* Groovy-update ระบุ -> Test Framework และการอัปเดตการทดสอบ (WTF)
* การอัปเดต Test Framework -> การอัปเดตของพฤติกรรม
* \[...]
นอกจากนี้ มี Plugins บางส่วนที่ทำงานไม่ได้กับเวอร์ชัน Gradle ที่ใหม่กว่า และ Plugins บางส่วนไม่ได้ถูกพัฒนาต่ออีกต่อไป ไม่สามารถใช้งานได้กับ Plugins อื่น ๆ ซึ่งทำงานได้ดีกับ Gradle KTS ไม่ใช่กับ Gradle Groovy หรือมีข้อ จำกัด บางส่วน แม้ว่า Plugins จากผู้ให้บริการขนาดใหญ่อย่าง Spring จะมีฟังก์ชั่นที่ จำกัดมากกว่า Maven-Plugins ของพวกเขา ในที่สุดฉันมีไฟล์ Gradle-build ที่สับสน และไม่มีผู้ดูแลได้อย่างถูกต้อง ไม่ว่าจะเป็นนักพัฒนาที่เขียนมัน และพวกเขายังคงรัก Gradle ฉันรู้จักไม่กี่คนที่จริงจังต่อ Script Gradle หรือเขียนได้ดี.

### การค้นพบความแข็งแกร่งของ Maven อีกครั้ง - การใช้เวทมนตร์ของ Maven

นี่คือฟังก์ชันที่ฉันชื่นชอบของ Maven:
Plugin สามารถเริ่มต้นและกำหนดค่าได้โดยตรงจาก command line โดยไม่ต้องกำหนดไว้ก่อน และมันเป็น plugin ที่อิสระต่อกันเลย

| คำสั่งตัวอย่าง                        | คำอธิบาย                                                                                                                                                      | ลิงค์                                                                    | 
|---------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
| `mvn versions:use -latest-versions`   | อัปเดตเวอร์ชัน - ใครจำเป็นต้องมี Dependabot ใช่ไหม? ใช่ โปรเจ็กต์ของฉันได้รับการอัปเดตเวอร์ชันล่าสุดเป็นหลายปีโดยไม่ต้องทำการ Merge Request อย่างรบกวน | https://www.mojohaus.org/versions/versions-maven-plugin/plugin-info.html |
| `mvn versions:set -DnewVersion=1.0.0` | ตั้งค่าเวอร์ชันของโปรเจ็กต์ ...                                                                                                                                         | https://www.mojohaus.org/versions/versions-maven-plugin/index.html       |
| `mvn license:add-third-party`         | แสดงรายการของ Dependencies และแสดงใบอนุญาตของพวกเขา (อาจล้มเหลวหากใบอนุญาตถูกยกเลิกไว้)                                                        | https://www.mojohaus.org/license-maven-plugin/index.html                 | 

รายการนี้สามารถขยายได้อีกเยอะไป มันทำให้ฉันนึกถึง GitHub Workflow Steps

![maven_plugin_command_line_args](/images/content/maven_plugin_command_line_args.png)

```

### คุณไม่ชอบ XML ใช่ไหม?

ไม่มีปัญหา! คุณเพียงแค่เขียนไฟล์ Build ของคุณใน `ruby`, `groovy`, `scala`, `yaml`, `atom` หรือ `Java` และใช้ Polyglot Extension (https://github.com/takari/polyglot-maven) ในการแปลงไฟล์ สามารถลองใช้ `mvn io.takari.polyglot:polyglot-translate-plugin:translate -Dinput=pom.xml -Doutput=pom.yaml` เพื่อแปลงไฟล์ Build ของคุณแล้วเสร็จในไม่กี่นาที แต่เสียใจที่ไม่มี Maven <> Gradle แปลงได้อย่างเป็นประจำ :(
ไฟล์ Build ของ Maven อาจใหญ่ แต่ก็เข้าใจง่ายมาก และการแก้ไขหรือทำการ Debug ก็สามารถทำได้อย่างง่ายดาย

### อายุเป็นเพียงตัวเลขเท่านั้น - ความเสถียรภาพและวิวัฒนาการของเมเว่น

จะต้องยอมรับว่า Maven มีอยู่มานานแล้ว และดูอาจไม่ตรงกับมาตรฐานปัจจุบัน แต่ความยาวนานของ Maven
ช่วยให้มันสามารถปรับตัวและพัฒนาต่อไปได้ Maven ทำงานอิสระจากโครงการของคุณ ไฟล์ Build สามารถนำกลับมาใช้งานได้ง่ายดาย
ปลั๊กอินทำงานใน "ทรายกันทา" (Sandbox) และเป็นอิสระต่อกันและต่อ Maven หรือรุ่น Maven
การออกแบบนี้ส่งเสริมความเสถียรและความสามารถในการทำนายโดยทั่วไป และทำให้ง่ายต่อการจัดการกระบวนการ Build
ที่ซับซ้อนโดยไม่พบความขัดแย้งที่ไม่คาดคิด

### สรุปผล

ในปัจจุบัน สภาพแวดล้อมการพัฒนามีภาระหน้าที่และเทคโนโลยีมากมายที่มีอยู่สำหรับนักพัฒนา
ในการค้นหาความเรียบง่ายและการอัตโนมัติ Gradle ออกแบบมาเป็นเครื่องมือการสร้างรหัสที่สมัครใจ แต่มีความท้าทายของตัวเองด้วย
โดยไม่มีข้อสงสัยว่าแนวคิดของ Gradle ดี! แต่เมื่อพิจารณาถึงความซับซ้อนและเวลาที่ใช้ในการสร้างสคริปต์ Gradle
การขยายเวอร์ชันของ Maven จะง่ายกว่า ด้วย Plugins และ Extensions การขยายเวอร์ชันของ Maven
สามารถอัพเดทและเพิ่มเติมได้ตลอดเวลา
การพัฒนาต่อยอดต่างหากจะน่าสนใจและยังเป็นเรื่องยั่งยืนกว่าการกระโดดไปยังเทคโนโลยีต่อไป

### ลิงก์

* [การย้อนกลับจาก Gradle กลับไปใช้ Maven](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

### ติดต่อเรา

[GitHub Issues](https://github.com/NovaAnnabella/the_unspoken/issues/new/choose).
