---
title: "กลับไปที่ Maven?"
date: 2023-05-01
author: "Nova Annabella"
slug: back_to_maven
tags: [ Development, Gradle, Maven, CI_CD ]
categories: [ Technology, Software ]
description: "การค้นหาความเรียบง่ายที่ยากจะจับต้องและการเดินทางสั้น ๆ ในการค้นพบอีกครั้งความสามารถของ Maven."
draft: false
images:
  - "/images/content/maven_vs_gradle.png"
card: "summary_large_image"
---


# กลับไปที่ Maven?

[![maven_vs_gradle](/images/content/maven_vs_gradle.png)](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

## 10 ปี Gradle. ในการค้นหาความสบายและการเดินทางสั้น ๆ ในการค้นพบใหม่ความแข็งแกร่งของ Maven.



### การเพิ่มศักยภาพของนักพัฒนา - เราต้องการเครื่องมือที่ประหยัดเวลามากขึ้น

หัวข้อที่มักจะถูกมองข้ามหรือไม่มีการพูดคุยเยอะ นั่นคือสิ่งที่เราสนใจมาก มักจะมีเทคโนโลยีเจ๋งๆที่กำลังถูกนำมาใช้งาน,
แต่น้อยคนที่จะพูดถึงปัญหาที่เกี่ยวข้องกับมัน การพัฒนาในวันนี้เป็นเรื่องที่ซับซ้อนมาก ด้วยคำฮิตที่เจ๋งๆ เช่น
“Serverless”, “Low Code”, “IaC”, “Big Data”, “Cloud”, “DevOps”, “You Build it You run it” ฯลฯ
นักพัฒนาจำเป็นต้องจัดการกับงานเพิ่มเติมหลายอย่าง งานที่เพิ่มขึ้นหมายความว่าเราแทบจะ
ไม่มีผู้เชี่ยวชาญและมักจะมีสิ่งหนึ่งสิ่งใดที่ถูกทอดทิ้งเพื่อนำไปสู่จุดสนใจ ดังนั้น
การสร้างอัตโนมัติและประหยัดเวลานั้นถึงขนาดที่ สำคัญมาก “Don’t make me think” และ “Works out of the Box”
นั้นถือเป็นลักษณะเฉพาะที่ดีงาม, ซึ่งผมยัง ไม่เห็นใน Gradle โดยเพื่อความยุติธรรม, Gradle
ไม่ได้เป็นเครื่องมือที่ทันสมัยเพียงหนึ่งชิ้นที่ทำให้เราทำงานเป็นแทนที่จะ ทำให้ง่ายขึ้น.

### การค้นหาความง่ายดายและการทำงานอัตโนมัติที่มีภาวะหลอกลวง

ตั้งแต่ SOAP ผมมีความรู้สึกไม่ชอบการตั้งค่าที่ขึ้นอยู่กับ XML อย่างลึกซึ้งมาก. ด้วย Gradle ผมหวังว่า การเขียนสคริปต์
Bind จะเป็นเรื่องง่าย. แต่น่าเสียดายที่ความหวังและแรงจูงใจของผมลดลง ยิ่งศึกษายิ่งน้อยลง. Gradle
มุ่งมั่นที่ความยืดหยุ่นและพ sacr ใช้การทำงานอัตโนมัติและคุณภาพ. นักพัฒนา
ทั้งหมดติดตามแนวโน้มโดยไม่สนใจผลกระทบต่อความเชื่อถือได้ของซอฟต์แวร์. เพื่อให้สคริปต์ผลิต Gradle
ง่ายและเท่าน้อยเท่าที่จะเป็นไปได้ จำเป็นต้องมีระเบียบวินัยที่แข็งขืนนั่นเป็นสิ่งที่หาได้ยากใน
รหัสแหล่งที่มาและด้วยเหตุนี้มันมีในสคริปต์สร้างแม้แต่น้อยลง.

### การแปลและวิธีการรับมือ - เมื่อสคริปต์การสร้างเป็นความท้าทาย

Gradle ทำงานในพื้นหลังไม่ต่างจาก Maven มากนัก ดังนั้นจึงต้องการการแปลบางอย่าง คุณลักษณะเช่น Catalog ที่ขึ้นต่อยศ,
ปลั๊กอินการปล่อย Maven, Depentabot และอีกหลายอย่างเป็นเพียงวิธีการรอบทางสำหรับฟังก์ชันพื้นฐาน ที่ Maven นำมาพร้อม
ด้วยความยืดหยุ่นของ Gradle มักเกิดการกำหนดค่าการสร้างที่ซับซ้อน ซึ่งยากต่อการบำรุงรักษา ปลั๊กอิน Gradle
มักมีปัญหาเรื่องความเข้ากันได้, ขีด จำกัด หรือการพัฒนาที่จำกัด. ปัญหาเหล่านี้เกิดขึ้น
เนื่องจากธรรมชาติการพัฒนาของระบบนิเวศ Gradle, ความหลากหลายของสภาพแวดล้อมที่ใช้ Gradle
และความเฉพาะเจาะจงของการวางแผนและความต้องการการบำรุงรักษาสำหรับแต่ละปลั๊กอิน ทุกอย่างเชื่อมต่อกันทั้งหมด.

### ผลกระทบแบบโดมิโนจาก Gradle - สถานการณ์ประสบภัยในโลกจริง

ฉันเห็น Microservices มากมายที่อายุเพียงไม่กี่ปีและแล้วก็ไม่สามารถรักษาได้เนื่องจาก Gradle
จำเป็นต้องทบทวนว่านี่ไม่ใช่ครั้งแรกที่ฉันเห็นสิ่งพวกนี้ และไม่น่าจะไม่มี Junior Devs ที่เกี่ยวข้อง

**หน้าที่ของฉันคือการทำการอัปเกรด Spring Boot 2.x เป็น 2.7** ซึ่งก็คือเนื้อเรื่อง: ฉันได้ยอมแพ้หลังจากปีนึงครึ่ง!
ปัญหาทั้งหมดสรุปก็คือ:

* แฟ้มจัดการการสร้าง Gradle ต้องใช้ -> Downgrade รุ่น Java ที่ฉันใช้อยู่เป็น 11 (WTF) (ปกติ Java
  จะสามารถทำงานย้อนหลังได้ - อีกครั้งที่มีเครื่องมือ Workaround เช่น SdkMan...)
* การอัปเดต Spring Boot ต้องใช้ -> การอัปเดต Gradle (WTF)
* การอัปเดต Gradle ต้องใช้ -> การอัปเดต Plugin
* การอัปเดต Plugin ต้องใช้ -> การอัปเดต Groovy (WTF)
* การอัปเดต Groovy ต้องใช้ -> การอัปเดต Test-Framework และการทดสอบ (WTF)
* การอัปเดต Test-Framework ต้องใช้ -> การอัปเดต Abhängigkeits
* \[...]
  นอกจากนี้ยังมีปลั๊กอินบางอันที่ไม่ทำงานกับเวอร์ชัน Gradle ใหม่ ๆ บางอันหยุดการพัฒนา ไม่สามารถใช้งานร่วมกับ
  ปลั๊กอินอื่น ๆ ทำงานได้เฉพาะกับ Gradle KTS ไม่ได้กับ Gradle Groovy หรือ
  มีข้อ จำกัด บางอย่าง เพียงแค่ปลั๊กอินจากผู้ให้บริการขนาดใหญ่เช่น Spring ยังมีความสามารถที่ถูกจำกัดเมื่อเทียบกับ
  ปลั๊กอิน Maven ของพวกเขาในที่สุดฉันมีแฟ้มจัดการการสร้าง Gradle ที่เรียบง่ายและสั้น ๆ
  ซึ่งไม่มีใครสามารถดูแลรักษาได้อย่างเหมาะสม แม้แต่นักพัฒนาที่เขียนมัน และพวกเขายังคงรัก Gradle ยังคงมีจำนวนเล็ก ๆ
  รู้จักคนที่เข้าใจหรือเขียน Gradle Scripts.

### การค้นพบอีกครั้งความแข็งแกร่งของ Maven - การใช้ความสามารถเวทมนต์ของ Maven

นี่คือคุณสมบัติที่ชอบใน Maven ของฉัน:
ปลั๊กอินสามารถเริ่มต้นและกำหนดค่าได้โดยตรงจาก command line โดยไม่ต้องกำหนดล่วงหน้า
คุณจำเป็นต้องทำไข้ Plus, พวกเขาโดยส่วนใหญ่ไม่ขึ้นตอนกับการกำหนดการปลั๊กอินอื่น ๆ

| คำสั่งตัวอย่าง                      | คำอธิบาย                                                                                                                                        | ลิงก์                                                                 | 
|-------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
| `mvn versions:use -latest-versions` | อัปเดตเวอร์ชัน - ใครต้องการ Dependabot? ใช่ โปรเจกต์ของฉันได้รับการอัปเดตเป็นเวอร์ชันล่าสุดมากี้ปีแล้ว, โดยไม่มีคำขอ Merge ที่น่ารำคาญ | https://www.mojohaus.org/versions/versions-maven-plugin/plugin-info.html |
| `mvn versions:set -DnewVersion=1.0.0` | ตั้งค่าเวอร์ชันโปรเจค...                                                                                                                       | https://www.mojohaus.org/versions/versions-maven-plugin/index.html |
| `mvn license:add-third-party`       | แสดงรายการของ Dependencies และแสดงลิขสิทธิ์ของพวกเขา (อาจล้มเหลวด้วยเหตุผลที่ลิขสิทธิ์ถูกนำออก)                                                                          | https://www.mojohaus.org/license-maven-plugin/index.html               | 

รายการนี้สามารถดำเนินต่อไปเรื่อย ๆ มันทำให้ฉันนึกถึง GitHub Workflow Steps.

![maven_plugin_command_line_args](/images/content/maven_plugin_command_line_args.png)


### คุณไม่ชอบ XML หรือ?

ไม่มีปัญหา! เพียงเขียนไฟล์สร้างของคุณในรูปแบบ `ruby`, `groovy`, `scala`, `yaml`, `atom` หรือ `Java`. ส่วนขยาย Polygot
(https://github.com/takari/polyglot-maven) ทำให้สิ่งนี้เป็นไปได้. การทดสอบง่ายๆ
เพียงรันคำสั่ง `mvn io.takari.polyglot:polyglot-translate-plugin:translate -Dinput=pom.xml -Doutput=pom.yaml` และใน
แค่ไมลลิวินาทีหนึ่ง ไฟล์สร้างของคุณจะถูกแปลเสร็จสิ้น. น่าเสียดายที่ไม่มีตัวแปล Maven <> Gradle ที่น่าเชื่อถือ
:( 
โปรดรู้ว่า, ไฟล์สร้างของ Maven มักจะใหญ่, แต่ก็ค่อนข้างง่ายต่อการเข้าใจ. การปรับบำรุงหรือการแก้ไขข้อผิดพลาดสามารถทำได้ในไม่กี่ขั้นตอน.

### อายุเพียงแค่เลข - ความมั่นคงและการเติบโตของ Maven

ต้องยอมรับว่า Maven ได้มีมานานแล้ว และรูปลักษณ์ตาของมันอาจจะไม่ตรงกับมาตรฐานของวันนี้ แต่อายุยาวนานของ Maven
ทำให้มันสามารถปรับตัวและพัฒนาต่อไปได้. Maven ทำงานอย่างอิสระ จากโปรเจคของคุณ. ไฟล์บิวด์สามารถนำมาใช้ซ้ำได้ง่าย
ปลั๊กอินทำงานในกระบวนการแยกและเป็นอิสระกันและเป็นอิสระจาก Java หรือรุ่น Maven.
การออกแบบนี้ส่งเสริมความคงที่และความน่าคาดคะเนและทำให้ง่ายต่อการจัดการกระบวนการสร้างที่ซับซ้อนโดยไม่มี
ข้อขัดแย้งที่ไม่คาดคิด

### สรุป

ในปัจจุบัน, สภาพแวดล้อมการพัฒนาถูกบรรจุไปด้วยภารกิจและเทคโนโลยีมากมายสำหรับนักพัฒนา
ในการค้นหาความง่ายและการทำงานแบบอัตโนมัติ Gradle ได้ปรากฏขึ้นในฐานะเครื่องมือสร้างที่ทันสมัย
แต่ก็มีความท้าทายของตัวเองมาพร้อมกับ โดยไม่ต้องสงสัยว่า แนวคิดของ Gradle นั้นดี!
แต่เมื่อพิจารณาถึงความซับซ้อนและเวลาที่ลงทุนใน Gradle Build สคริปต์, คำถามคือ คงที่ง่ายกว่าหากทำการขยาย Maven
ด้วยปลั๊กอินและส่วนขยาย เราสามารถทำให้ Maven ร่วมสมัยและทำให้ง่ายขึ้นได้ในเวลาใดๆ
การพัฒนาต่อไปคงสนุกและยั่งยืนยิ่งกว่าการกระโดดจากเทคโนโลยีหนึ่งไปยังอีกเทคโนโลยีหนึ่ง ดุลยพินิจ?

### ลิงก์

* [ย้ายกลับจาก Gradle ไปยัง maven](https://phauer.com/2018/moving-back-from-gradle-to-maven/)

### ติดต่อ

[ปัญหา GitHub](https://github.com/NovaAnnabella/the_unspoken/issues/new/choose).
